# Default values for nfl-wallet
# Service/port layout: api-customers 8080, api-bills 8081, api-raiders 8082, webapp 5173

global:
  imageRegistry: quay.io
  imagePullSecrets: []

# Override these if using a different Quay namespace
imageNamespace: maximilianopizarro

apiCustomers:
  image: nfl-wallet-api-customers
  tag: latest
  replicaCount: 1
  service:
    port: 8080  # Service port 8080, Pod targetPort 8080
  resources: {}
  persistence:
    enabled: true
    size: 1Gi

apiBills:
  image: nfl-api-bills
  tag: latest
  replicaCount: 1
  service:
    port: 8081  # Service port 8081, Pod targetPort 8080
  resources: {}
  persistence:
    enabled: true
    size: 1Gi

apiRaiders:
  image: nfl-wallet-api-raiders
  tag: latest
  replicaCount: 1
  service:
    port: 8082  # Service port 8082, Pod targetPort 8080
  resources: {}
  persistence:
    enabled: true
    size: 1Gi

webapp:
  image: nfl-wallet-webapp
  tag: latest
  replicaCount: 1
  service:
    port: 5173  # Service port 5173, Pod targetPort 8080
  resources: {}
  # OpenShift Route: set to false to disable autogenerated Route
  route:
    enabled: true
    # Optional: override host (default: webapp-<release-name>.<cluster-apps-domain>)
    host: ""
    tls:
      # Edge termination + redirect HTTP -> HTTPS
      termination: edge
      # Redirect: send HTTP to HTTPS; None or Allow
      insecureEdgeTerminationPolicy: Redirect
  # API base URLs (optional). Leave empty: webapp proxies /api-customers, /api-bills, /api-raiders to internal services.
  apiCustomersUrl: ""
  apiBillsUrl: ""
  apiRaidersUrl: ""

# API key security: one key per API. Leave empty to disable validation (e.g. local dev).
apiKeys:
  enabled: false
  # Set in values or via --set; for production use a Secret (e.g. sealed-secrets). Keys are injected as env into each API.
  customers: ""
  bills: ""
  raiders: ""

# Gateway API (HTTPRoute connectivity). Enable when cluster has Gateway API + implementation (e.g. Istio, OpenShift Gateway).
gateway:
  enabled: false
  # Gateway class name (e.g. istio, openshift-gateway)
  className: istio
  # Optional: name of existing Gateway to attach HTTPRoutes to; if empty, a Gateway resource is created.
  existingGatewayName: ""

# Istio AuthorizationPolicy: require X-API-Key header when apiKeys.enabled.
authorizationPolicy:
  enabled: false
